" Vundle configuration
set nocompatible               " be iMproved
filetype off                   " required!

set rtp+=~/.vim/bundle/vundle/
call vundle#rc()

" let Vundle manage Vundle
" required!
Bundle 'gmarik/vundle'

" My Bundles here:
"
" original repos on github
" Syntax checking
Bundle 'scrooloose/syntastic'

" Command-T
Bundle "wincent/Command-T"

" Show ctags tagbar
Bundle 'majutsushi/tagbar'

" Snippets handling
Bundle "MarcWeber/vim-addon-mw-utils"
Bundle "tomtom/tlib_vim"
Bundle "garbas/vim-snipmate"
Bundle "agoconcept/vim-snippets"

" ack-grep
Bundle "mileszs/ack.vim"

" Store the session automatically when closing and restore it when opening
Bundle "powerman/vim-plugin-autosess"

" Plugins for handling puppet files
Bundle 'rodjek/vim-puppet'
Bundle 'godlygeek/tabular'

" Sets up node.js configuration
Bundle "moll/vim-node"

" Improve javascript syntax highlight
Bundle "jelera/vim-javascript-syntax"
Bundle "digitaltoad/vim-jade"

" Create tags automatically
Bundle "xolox/vim-misc"
Bundle "xolox/vim-easytags"

" Show marks
Bundle "kshenoy/vim-signature"

" Javascript capabilities
" Bundle "marijnh/tern_for_vim"

" Autocomplete C/C++ code
Bundle 'Rip-Rip/clang_complete'

" Github repos of the user 'vim-scripts'
" => can omit the username part
"Bundle 'taglist.vim'
" ...
" Show invisible characters with <F4>
Bundle 'cream-showinvisibles'

" non github repos
"Bundle 'git://git.wincent.com/command-t.git'
" ...

filetype plugin indent on     " required!

" Standard configuration
syntax on
colorscheme torte
set t_Co=256
set hlsearch
set incsearch
set tabstop=4
set shiftwidth=4
set expandtab
set autoindent
set smartindent
set ignorecase
set smartcase
set number
set scrolloff=1
set wrap
set linebreak
set backspace=indent,eol,start
set ruler
set wildmenu
set background=dark

" Allow mouse support
set mouse=a

" Highlight all words like the one under the cursor
autocmd CursorMoved * exe printf('2match IncSearch /\V\<%s\>/', escape(expand('<cword>'), '/\'))

" Highlight trailing whitespaces
match Error '\s\+$'
autocmd BufWinEnter * match Error /\s\+$/
autocmd InsertEnter * match Error /\s\+\%#\@<!$/
autocmd InsertLeave * match Error /\s\+$/
autocmd BufWinLeave * call clearmatches()

" Tabs configuration
set showtabline=2

" Allow paste mode with <F2> to avoid screwing indentation
nnoremap <F2> :set invpaste paste?<CR>
set pastetoggle=<F2>
set showmode

" Toggle Tagbar with <F8>
nmap <F8> :TagbarToggle<CR>

" Search for tags file recursively in parent directories
set tags=./tags;/

" Navigate tags using C-\ and A-]
map <C-\> :tab split<CR>:exec("tag ".expand("<cword>"))<CR>
map <A-]> :vsp <CR>:exec("tag ".expand("<cword>"))<CR>

